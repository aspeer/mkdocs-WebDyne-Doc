
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Engine for creation of dynamic HTML pages with embedded Perl">
      
      
        <meta name="author" content="Andrew Speer">
      
      
        <link rel="canonical" href="https://webdyne.org/05_webdyne_api/">
      
      
        <link rel="prev" href="../04_error_handling/">
      
      
        <link rel="next" href="../06_miscellaneous/">
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>WebDyne API - WebDyne</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
<script async src="https://plausible.io/js/pa-T3Ek4RCzv7GLTkk8BuWl5.js"></script>
<script>
  window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
  plausible.init()
</script>

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#webdyne-api" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="WebDyne" class="md-header__button md-logo" aria-label="WebDyne" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WebDyne
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              WebDyne API
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/aspeer/mkdocs-WebDyne-Doc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    aspeer/WebDyne
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="WebDyne" class="md-nav__button md-logo" aria-label="WebDyne" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>
    WebDyne
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aspeer/mkdocs-WebDyne-Doc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    aspeer/WebDyne
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../00_introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_installation_and_quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation and Quickstart
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02_basic_usage_examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_advanced_usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../04_error_handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Error Handling
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    WebDyne API
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    WebDyne API
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#webdyne-tags" class="md-nav__link">
    <span class="md-ellipsis">
      WebDyne tags
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webdyne-methods" class="md-nav__link">
    <span class="md-ellipsis">
      WebDyne methods
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webdyne_constants" class="md-nav__link">
    <span class="md-ellipsis">
      WebDyne Constants
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WebDyne Constants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#global-constants-file" class="md-nav__link">
    <span class="md-ellipsis">
      Global constants file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-webdyne-constants-in-apache" class="md-nav__link">
    <span class="md-ellipsis">
      Setting WebDyne constants in Apache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constants-reference" class="md-nav__link">
    <span class="md-ellipsis">
      Constants Reference
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webdyne-directives" class="md-nav__link">
    <span class="md-ellipsis">
      WebDyne Directives
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../06_miscellaneous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Miscellaneous
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../07_extending_webdyne/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extending WebDyne
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../08_troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../09_credits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Credits
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../10_miscellaneous/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Miscellaneous
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../11_legal_information_licensing_and_copyright/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Legal Information - Licensing and Copyright
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="webdyne-api">WebDyne API<a class="headerlink" href="#webdyne-api" title="Permanent link">&para;</a></h1>
<h2 id="webdyne-tags">WebDyne tags<a class="headerlink" href="#webdyne-tags" title="Permanent link">&para;</a></h2>
<p>Reference of WebDyne tags and supported attributes</p>
<dl>
<dt>&lt;perl&gt;</dt>
<dd>
<p>Run Perl code either in-line (between the &lt;perl&gt;..&lt;/perl&gt;) tags,
or non-inline via the method attribute. Tags are shown with primary
name first, then any supported aliases.</p>
<dl>
<dt>handler|method=subroutine</dt>
<dd>
<p>Call an external Perl subroutine in from a module, or a
subroutine in the __PERL__ block at the end of the .psp
file. If the handler is specified a module call (e.g.
Digest::MD5::md5_hex()) then a require call will be load the
module (Digest::MD5 in this example).</p>
</dd>
<dt>require|package=[Module::Name] | [Path/Filename.pm]</dt>
<dd>
<p>Load a Perl module or file needed to support a method call. E.g.
&lt;perl require="Digest::MD5"/&gt; to load the Digest::MD5 module.
Anything with a [./\] character is treated as file patch to a
Perl file (e.g. "/home/user/module.pm"), otherwise it is treated
as module name ("Digest::MD5")</p>
</dd>
<dt>import=[function], &lt;function&gt;, &lt;function&gt; ..</dt>
<dd>
<p>Import a single or multiple functions into the file namespace.
Use "import=name" for a single function, or pass an array ref
(import="@{'name1', 'name2'}" for multiple functions. E.g.
&lt;perl require="Digest::SHA" import="@{qw(sha1 sha1_hex)}"/&gt;.
Functions are then available anywhere in the file namespace.</p>
</dd>
<dt>param=scalar|hash</dt>
<dd>
<p>Parameters to be supplied to perl routine. Supply a hash
reference using the "%{a=&gt;1, b=&gt;2}" convention e.g. &lt;perl
method="showname" param="%{name =&gt;'Bob'}"/&gt; or as a simple
scalar, e.g. &lt;perl method="showname", param=&gt;"Bob"/&gt;</p>
</dd>
<dt>static=1</dt>
<dd>
<p>This Perl code to be run once only and the output cached for all
subsequent requests.</p>
</dd>
<dt>run=1</dt>
<dd>
<p>If the run attribute is supplied it is evaluated for a true
value. If a true value exists the code is run, if not the code
is skipped. If the run attribute does not exist at all the code
is run by default. Useful for conditional running of code when a
form has been submitted, e.g. &lt;perl handler="showname"
run="+{name}"&gt; .. &lt;/perl&gt;</p>
</dd>
<dt>file=1</dt>
<dd>
<p>Force package|require attribute to be treated as a file, even
if it appears to "look like" a module name to the loader. Rarely
needed, use case would be a Perl module in the current directory
without an extension.</p>
</dd>
<dt>hidden=1</dt>
<dd>
<p>The output from the Perl module will be hidden and no rendered
to the page.</p>
</dd>
<dt>chomp=1</dt>
<dd>
<p>Any new lines at the end of the output will be truncated.</p>
</dd>
<dt>autonewline=1</dt>
<dd>
<p>A newline character ("\n") will be inserted between each print
statement in the perl block or code.</p>
</dd>
</dl>
</dd>
<dt>&lt;json&gt;</dt>
<dd>
<p>Run Perl code similar to &lt;perl&gt; tag but expects code to return a
HASH, ARRAY ref or plain scalar, which is encoded into JSON,
outputting in a &lt;script&gt; tag with type="application/json". When
supplied with an id attribute this data can be used by any
Javascript function in the page. Takes the same parameters as the
&lt;perl&gt; tag and specific attributes:</p>
<dl>
<dt>id=[name]</dt>
<dd>
<p>ID this &lt;script&gt; tag will be given, e.g. &lt;script id="mydata"
type="application/json"&gt;[{"foo":1}]&lt;/script&gt;</p>
</dd>
</dl>
</dd>
<dt>&lt;block&gt;</dt>
<dd>
<p>Block of HTML code to be optionally rendered if desired by call to
render_block Webdyne method:</p>
<dl>
<dt>name=identifier</dt>
<dd>
<p><em>Mandatory.</em> The name for this block of HTML. Referenced when
rendering a particular block in perl code, e.g. return
$self-&gt;render_block("foo");</p>
</dd>
<dt>display=1</dt>
<dd>
<p>Force display of this block even if not invoked by render_block
WebDyne method. Useful for prototyping or conditional display.
Any true value will force display, so this can be coupled with a
form parameter to only show a block when a form has been
submitted, e.g. &lt;block name="showname" display="+{name}"&gt; ..
&lt;/block&gt;</p>
</dd>
<dt>static=1</dt>
<dd>
<p>This block rendered once only and the output cached for all
subsequent requests</p>
</dd>
</dl>
</dd>
<dt>&lt;include&gt;</dt>
<dd>
<p>Include HTML or text from an external file. This includes pulling in
the &lt;head&gt; or &lt;body&gt; section from another HTML or .psp file. If
pulled in from a .psp file it will compiled and interpreted in the
context of the current page.</p>
<dl>
<dt>file=filename</dt>
<dd>
<p><em>Mandatory</em>. Name of file we want to include. Can be relative to
current directory or absolute path.</p>
</dd>
<dt>head=1</dt>
<dd>
<p>File is an HTML or <code>.psp</code> file and we want to include just the
&lt;head&gt; section</p>
</dd>
<dt>body=1</dt>
<dd>
<p>File is an HTML or <code>.psp</code> file and we want to include just the
&lt;body&gt; section.</p>
</dd>
<dt>block=blockname</dt>
<dd>
<p>File is a <code>.psp</code> file and we want to include a &lt;block&gt; section
from that file.</p>
</dd>
<dt>wrap=tag</dt>
<dd>
<p>Wrap the text from the included file in the nominated tag. Do
not use &lt;&gt; symbols, just the plain tag name, e.g.
&lt;include="/etc/protocol" wrap="pre"/&gt;</p>
</dd>
<dt>nocache=1</dt>
<dd>
<p>Don't cache the results of the include, bring them in off disk
each time. Will incur performance penalty</p>
</dd>
</dl>
</dd>
<dt>&lt;api&gt;</dt>
<dd>
<p>Respond to a JSON request made from a client. Takes the same
parameters as the &lt;perl&gt; tag and specific attributes:</p>
<dl>
<dt>pattern=string</dt>
<dd>
<p><em>Mandatory</em>. Name of <code>Route::Simple</code> pattern we want to serve,
e.g. /api/{user}/:id</p>
</dd>
<dt>destination | dest | data=hash ref</dt>
<dd>
<p>Hash we want to supply to perl routine if match made. See
<code>Route::Simple</code></p>
</dd>
<dt>option=hash ref</dt>
<dd>
<p>Match options, GET, PUT etc. <code>Route::Simple</code></p>
</dd>
</dl>
</dd>
<dt>&lt;htmx&gt;</dt>
<dd>
<p>Serve HTML snippets. Takes the same parameters as the &lt;perl&gt; tag
and specific attributes:</p>
<dl>
<dt>display=1</dt>
<dd>
<p>If evaluates to true then this &lt;htmx&gt; snippet fires. You can
have multiple htmx tag sections in a page, but only one can fire
at a time. Use this attribute in conjunction with dynamic
evaluation (e.g. display="!{! $_{name} eq 'Bob' !}") to
selectively fire a &lt;htmx&gt; section.</p>
</dd>
</dl>
</dd>
<dt>&lt;dump&gt;</dt>
<dd>
<p>Display CGI parameters in dump format via CGI::Simple-&gt;Dump call.
Useful for debugging. Only rendered if <code>$WEBDYNE_DUMP_FLAG</code> global
set to 1 in WebDyne constants of the display|force attribute
specified (see below). Useful while troubleshooting or debugging
pages.</p>
<dl>
<dt>display|force=1</dt>
<dd>
<p><em>Optional.</em> Force display even if <code>$WEBDYNE_DUMP_FLAG</code> global
not set</p>
</dd>
<dt>all</dt>
<dd>
<p>Display all diagnostic blocks</p>
</dd>
<dt>cgi</dt>
<dd>
<p>Display CGI parameters and query strings</p>
</dd>
<dt>env</dt>
<dd>
<p>Display environment variables</p>
</dd>
<dt>constant</dt>
<dd>
<p>Display Webdyne constants</p>
</dd>
<dt>version</dt>
<dd>
<p>Display version strings</p>
</dd>
</dl>
</dd>
</dl>
<h2 id="webdyne-methods">WebDyne methods<a class="headerlink" href="#webdyne-methods" title="Permanent link">&para;</a></h2>
<p>When running Perl code within a WebDyne page the very first parameter
passed to any routine (in-line or in a __PERL__ block) is an
instance of the WebDyne page object (referred to as <code>$self</code> in most of
the examples). All methods return undef on failure, and raise an error
using the <code>err()</code> function. The following methods are available to any
instance of the WebDyne object:</p>
<dl>
<dt>CGI()</dt>
<dd>
<p>Returns an instance of a CGI::Simple type object for the current
request.</p>
</dd>
<dt>r(), request()</dt>
<dd>
<p>Returns an instance of the Apache request object, or a mock object
with similar functionality when running under PSGI or FCGI</p>
</dd>
<dt>html_tiny()</dt>
<dd>
<p>Returns an instance of the HTML::Tiny object, can be used for
creating programmatic HTML output</p>
</dd>
<dt>include()</dt>
<dd>
<p>Returns HTML derived from a file, using the same parameters as the
&lt;include&gt; tag</p>
</dd>
<dt>render( &lt;key=&gt;value, key=&gt;value&gt;, .. )</dt>
<dd>
<p>Called to render the text or HTML between &lt;perl&gt;..&lt;/perl&gt; tags.
Optional key and value pairs will be substituted into the output as
per the variable section. Returns a scalar ref of the resulting
HTML.</p>
</dd>
<dt>render_block( blockname, &lt;key=&gt;value, key=&gt;valufge, ..&gt;).</dt>
<dd>
<p>Called to render a block of text or HTML between
&lt;block&gt;..&lt;/block&gt; tags. Optional key and value pairs will be
substituted into the output as per the variable section. Returns
scalar ref of resulting HTML if called with from &lt;perl&gt;..&lt;/perl&gt;
section containing the block to be rendered, or true (\undef) if
the block is not within the &lt;perl&gt;..&lt;/perl&gt; section (e.g.
further into the document, see the block section for an example).</p>
</dd>
<dt>render_reset()</dt>
<dd>
<p>Erase anything previously set to render - it will not be sent to the
browser.</p>
</dd>
<dt>redirect( uri=&gt;uri | file=&gt;filename | html=&gt;\html_text | json=&gt;\json_text | text=&gt;\plain_text)</dt>
<dd>
<p>Will redirect to URI or file nominated, or display only nominated
text. Any rendering done to prior to this method is abandoned. If
supplying HTML text to be rendered supply as a SCALAR reference.</p>
</dd>
<dt>inode( &lt;seed&gt; )</dt>
<dd>
<p>Returns the page unique ID (UID). Called inode for legacy reasons,
as that is what the UID used to be based on. If a seed value is
supplied a new UID will be generated based on an MD5 of the seed
combined with other information (such as $r-&gt;location) to generate
a unique UUID. Seed only needs to be supplied if using advanced
cache handlers.</p>
</dd>
<dt>cache_mtime( &lt;uid&gt; )</dt>
<dd>
<p>Returns the mtime (modification time) of the cache file associated
with the optionally supplied UID. If no UID supplied the current one
will be used. Can be used to make cache compile decisions by
WebDyne::Cache code (e.g if page &gt; x minutes old, recompile).</p>
</dd>
<dt>source_mtime()</dt>
<dd>
<p>Returns the mtime (modification time) of the source .psp file
currently being rendered.</p>
</dd>
<dt>cache_compile()</dt>
<dd>
<p>Force recompilation of cache file. Can be used in cache code to
force recompilation of a page, even if it is flagged static. Returns
current value if no parameters supplied, or sets if parameter
supplied.</p>
</dd>
<dt>filename()</dt>
<dd>
<p>Return the full filename (including path) of the file being
rendered. Will only return the core (main) filename - any included
files, templates etc. are not reported.</p>
</dd>
<dt>cwd()</dt>
<dd>
<p>Return the current working directory WebDyne is operating in.</p>
</dd>
<dt>no_cache()</dt>
<dd>
<p>Send headers indicating that the page is not be cached by the
browser or intermediate proxies. By default WebDyne pages
automatically set the no-cache headers, although this behaviour can
be modified by clearing the <code>$WEBDYNE_NO_CACHE</code> variable and using
this function</p>
</dd>
<dt>meta()</dt>
<dd>
<p>Return a hash ref containing the meta data for this page.
Alterations to meta data are persistent for this process, and carry
across Apache requests (although not across different Apache
processes)</p>
</dd>
<dt>print(), printf(), say()</dt>
<dd>
<p>Render the output of the print(), printf() or say() routines into
the current HTML stream. The print() and printf() methods emulate
their Perl functions in not appending a new line into the output
(unless autonewline() is set), where as say() does.</p>
</dd>
<dt>autonewline()</dt>
<dd>
<p>Get or set the autonewline flag. If set will add a new line
automatically when using print() or $self-&gt;print(), essentially
emulating say().</p>
</dd>
<dt>render_time()</dt>
<dd>
<p>Return the elapsed time since the WebDyne hander started rendering
this page. Obviously only meaningful if called at the end of a page,
just before final output to browser.</p>
</dd>
</dl>
<h2 id="webdyne_constants">WebDyne Constants<a class="headerlink" href="#webdyne_constants" title="Permanent link">&para;</a></h2>
<p>Constants defined in the WebDyne::Constant package control various
aspects of how WebDyne behaves. Constants can be modified globally by
altering a global configuration file (<code>/etc/webdyne.conf.pl</code> under Linux
distros), setting environment variable or by altering configuration
parameters within the Apache web server config.</p>
<h3 id="global-constants-file">Global constants file<a class="headerlink" href="#global-constants-file" title="Permanent link">&para;</a></h3>
<p>WebDyne will look for a system constants file under
<code>/etc/webdyne.conf.pl</code> and set package variables according to values
found in that file. The file is in Perl Data::Dumper format, and takes
the format:</p>
<div class="language-text highlight"><pre><span></span><code># sample /etc/webdyne.conf.pl file
#
$VAR1={
        WebDyne::Constant =&gt; {

                WEBDYNE_CACHE_DN       =&gt; &#39;/data1/webdyne/cache&#39;,
                WEBDYNE_STORE_COMMENTS =&gt; 1,
                #  ... more variables for WebDyne package

       },

       WebDyne::Session::Constant =&gt; {

                WEBDYNE_SESSION_ID_COOKIE_NAME =&gt; &#39;session_cookie&#39;,
                #  ... more variables for WebDyne::Session package

       },

};
</code></pre></div>
<p>The file is not present by default and should be created if you wish to
change any of the WebDyne constants from their default values.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Always check the syntax of the <code>/etc/webdyne.conf.pl</code> file after editing
by running <code>perl -c -w /etc/webdyne.conf.pl</code> to check that the file is
readable by Perl. Files with syntax errors will fail silently and the
variables will revert to module defaults.</p>
</div>
<h3 id="setting-webdyne-constants-in-apache">Setting WebDyne constants in Apache<a class="headerlink" href="#setting-webdyne-constants-in-apache" title="Permanent link">&para;</a></h3>
<p>WebDyne constants can be set in an Apache httpd.conf file using the
PerlSetVar directive:</p>
<div class="language-text highlight"><pre><span></span><code>PerlHandler     WebDyne
PerlSetVar      WEBDYNE_CACHE_DN                &#39;/data1/webdyne/cache&#39;
PerlSetVar      WEBDYNE_STORE_COMMENTS          1

#  From WebDyne::Session package
#
PerlSetVar      WEBDYNE_SESSION_ID_COOKIE_NAME  &#39;session_cookie&#39;
</code></pre></div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>WebDyne constants cannot be set on a per-location or per-directory
basis - they are read from the top level of the config file and set
globally.</p>
<p>Some 1.x versions of mod_perl do not read PerlSetVar variables
correctly. If you encounter this problem use a &lt;Perl&gt;..&lt;/Perl&gt;
section in the <code>httpd.conf</code> file, e.g.:</p>
<div class="language-text highlight"><pre><span></span><code># Mod_perl 1.x

PerlHandler     WebDyne
&lt;Perl&gt;
$WebDyne::Constant::WEBDYNE_CACHE_DN=&#39;/data1/webdyne/cache&#39;;
$WebDyne::Constant::WEBDYNE_STORE_COMMENTS=1;
$WebDyne::Session::Constant::WEBDYNE_SESSION_ID_COOKIE_NAME=&#39;session_cookie&#39;;
&lt;/Perl&gt;
</code></pre></div>
</div>
<p>Where you need to set variables without simple string content you can
use a &lt;Perl&gt;..&lt;/Perl&gt; section in the <code>httpd.conf</code> file, e.g.:</p>
<div class="language-text highlight"><pre><span></span><code># Setting more complex variables

PerlHandler     WebDyne
&lt;Perl&gt;
$WebDyne::Constant::WEBDYNE_CACHE_DN=&#39;/data1/webdyne/cache&#39;;
$WebDyne::Constant::WEBDYNE_STORE_COMMENTS=1;
$WebDyne::Session::Constant::WEBDYNE_SESSION_ID_COOKIE_NAME=&#39;session_cookie&#39;;
&lt;/Perl&gt;
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The letsencrypt <code>certbot</code> utility will error out when trying to update
any Apache config file with <code>&lt;Perl&gt;</code> sections. To avoid this you put the
variables in a separate file and include them, e.g. in the <code>apache.conf</code>
file:</p>
<div class="language-text highlight"><pre><span></span><code># Some config setting defaults. See documentation for full range. 
# Commented out # options represent defaults 
#
PerlRequire conf.d/webdyne_constant.pl
</code></pre></div>
<p>And then in the webdyne_constant.pl file:</p>
<div class="language-text highlight"><pre><span></span><code>use WebDyne;
use WebDyne::Constant;

#  Error display/extended display on/off. More granular options below. 
#  Set to 1 to enable, 0 to disable
#
$WebDyne::WEBDYNE_ERROR_SHOW=1;
$WebDyne::WEBDYNE_ERROR_SHOW_EXTENDED=1;

#  Extended error control.
#
#  $WebDyne::WEBDYNE_ERROR_SOURCE_CONTEXT_SHOW=1;
#  $WebDyne::WEBDYNE_ERROR_SOURCE_CONTEXT_LINES_PRE=4;
#  $WebDyne::WEBDYNE_ERROR_SOURCE_CONTEXT_LINES_POST=4;
</code></pre></div>
</div>
<h3 id="constants-reference">Constants Reference<a class="headerlink" href="#constants-reference" title="Permanent link">&para;</a></h3>
<p>The following constants can be altered to change the behaviour of the
WebDyne package. All these constants reside in the <code>WebDyne::Constant</code>
package namespace.</p>
<dl>
<dt><code>$WEBDYNE_CACHE_DN</code></dt>
<dd>
<p>The name of the directory that will hold partially compiled WebDyne
cache files. Must exist and be writable by the Apache process</p>
</dd>
<dt><code>$WEBDYNE_STARTUP_CACHE_FLUSH</code></dt>
<dd>
<p>Remove all existing disk cache files at Apache startup. 1=yes
(default), 0=no. By default all disk cache files are removed at
startup, and thus pages must be recompiled again the first time they
are viewed. If you set this to 0 (no) then disk cache files will be
saved between startups and pages will not need to be re-compiled if
Apache is restarted.</p>
</dd>
<dt><code>$WEBDYNE_CACHE_CHECK_FREQ</code></dt>
<dd>
<p>Check the memory cache after this many request (per-process
counter). default=256. After this many requests a housekeeping
function will check compiled pages that are stored in memory and
remove old ones according to the criteria below.</p>
</dd>
<dt><code>$WEBDYNE_CACHE_HIGH_WATER</code></dt>
<dd>
<p>Remove compiled from pages from memory when we have more than this
many. default=64</p>
</dd>
<dt><code>$WEBDYNE_CACHE_LOW_WATER</code></dt>
<dd>
<p>After reaching HIGH_WATER delete until we get down to this amount.
default=32</p>
</dd>
<dt><code>$WEBDYNE_CACHE_CLEAN_METHOD</code></dt>
<dd>
<p>Clean algorithm. default=1, means least used cleaned first, 0 means
oldest last view cleaned first</p>
</dd>
<dt><code>$WEBDYNE_EVAL_SAFE</code></dt>
<dd>
<p>default=0 (no), If set to 1 means eval in a Safe.pm container.
Evaluating code in a Safe container is experimental and not
supported or recommended for general WebDyne use.</p>
</dd>
<dt><code>$WEBDYNE_EVAL_SAFE_OPCODE_AR</code></dt>
<dd>
<p>The opcode set to use in Safe.pm evals (see the Safe man page).
Defaults to "[':default']". Use [&amp;Opcode::full_opset()] for the
full opset. CAUTION Use of WebDyne with Safe.pm not comprehensively
tested and considered experimental.</p>
</dd>
<dt><code>$WEBDYNE_EVAL_USE_STRICT</code></dt>
<dd>
<p>The string to use before each eval. Defaults to "use strict
qw(vars);". Set to undef if you do not want strict.pm. In Safe mode
this becomes a flag only - set undef for "no strict", and non-undef
for "use strict" equivalence in a Safe mode (checked under Perl
5.8.6 only, results in earlier versions of Perl may vary).</p>
</dd>
<dt><code>$WEBDYNE_STRICT_VARS</code></dt>
<dd>
<p>Check if a var is declared in a render block (e.g $ {foo}) but not
supplied as a render parameter. If so will throw an error. Set to 0
to ignore. default=1</p>
</dd>
<dt><code>$WEBDYNE_DUMP_FLAG</code></dt>
<dd>
<p>If 1, any instance of the special &lt;dump&gt; tag will print out
results from CGI-&gt;dump(). Use when debugging forms. default=0</p>
</dd>
<dt><code>$WEBDYNE_DTD</code></dt>
<dd>
<p>The DTD to place at the top of a rendered page. Defaults to:
&lt;!DOCTYPE html&gt;</p>
</dd>
<dt><code>$WEBDYNE_HTML_PARAM</code></dt>
<dd>
<p>attributes for the &lt;html&gt; tag, default is { lang =&gt;'en' }</p>
</dd>
<dt><code>$WEBDYNE_HEAD_INSERT</code></dt>
<dd>
<p>Any HTML you want inserted before the closing &lt;/head&gt; tag, e.g.
stylesheet or script includes to be added to every <code>.psp</code> page. Must
be valid HTML &lt;head&gt; directives, not interpreted or compiled by
WebDyne, incorporated as-is</p>
</dd>
<dt><code>$WEBDYNE_COMPILE_IGNORE_WHITESPACE</code></dt>
<dd>
<p>Ignore source file whitespace as per HTML::TreeBuilder
ignore_ignorable_whitespace function. Defaults to 1</p>
</dd>
<dt><code>$WEBDYNE_COMPILE_NO_SPACE_COMPACTING</code></dt>
<dd>
<p>Do not compact source file whitespace as per HTML::TreeBuilder
no_space_compacting function. Defaults to 0</p>
</dd>
<dt><code>$WEBDYNE_STORE_COMMENTS</code></dt>
<dd>
<p>By default comments are not rendered. Set to 1 to store and display
comments from source files. Defaults to 0</p>
</dd>
<dt><code>$WEBDYNE_DELAYED_BLOCK_RENDER</code></dt>
<dd>
<p>By default WebDyne will render blocks targeted by a render_block()
call, even those that are outside the originating
&lt;perl&gt;..&lt;/perl&gt; section that made the call. Set to 0 to not
render such blocks. Defaults to 1</p>
</dd>
<dt><code>$WEBDYNE_WARNINGS_FATAL</code></dt>
<dd>
<p>If a programs issues a warning via warn() this constant determines
if it will be treated as a fatal error. Default is 0 (warnings not
fatal). Set to 1 if you want any warn() to behave as if die() had
been called..</p>
</dd>
<dt><code>$WEBDYNE_CGI_DISABLE_UPLOADS</code></dt>
<dd>
<p>Disable CGI::Simple file uploads. Defaults to 1 (true - do not allow
uploads).</p>
</dd>
<dt><code>$WEBDYNE_CGI_POST_MAX</code></dt>
<dd>
<p>Maximum size of a POST request. Defaults to 512Kb</p>
</dd>
<dt><code>$WEBDYNE_JSON_CANONICAL</code></dt>
<dd>
<p>Set is JSON encoding should be canonical, i.e. respect the order of
supplied data (slightly slows down encoding). Defaults to 1 (true -
preserve variable order)</p>
</dd>
<dt><code>$WEBDYNE_ERROR_TEXT</code></dt>
<dd>
<p>Display simplified errors in plain text rather than using HTML.
Useful in internal WebDyne development only. By default this is 0
=&gt; the HTML error handler will be used.</p>
</dd>
<dt><code>$WEBDYNE_ERROR_SHOW</code></dt>
<dd>
<p>Display the error message. Only applicable in the HTML error handler</p>
</dd>
<dt><code>$WEBDYNE_ERROR_SOURCE_CONTEXT_SHOW</code></dt>
<dd>
<p>Display a fragment of the <code>.psp</code> source file around where the error
occurred to give some context of where the error happened. Set to 0
to not display context.</p>
</dd>
<dt><code>$WEBDYNE_ERROR_SOURCE_CONTEXT_LINES_PRE</code></dt>
<dd>
<p>Number of lines of the source file before the error occurred to
display. Defaults to 4</p>
</dd>
<dt><code>$WEBDYNE_ERROR_SOURCE_CONTEXT_LINES_POST</code></dt>
<dd>
<p>Number of lines of the source file after the error occurred to
display. Defaults to 4</p>
</dd>
<dt><code>$WEBDYNE_ERROR_SOURCE_CONTEXT_LINE_FRAGMENT_MAX</code></dt>
<dd>
<p>Max line length to show. Defaults to 80 characters.</p>
</dd>
<dt><code>$WEBDYNE_ERROR_BACKTRACE_SHOW</code></dt>
<dd>
<p>Show a backtrace of modules through which the error propagated. On
by default, set to 0 to disable,</p>
</dd>
<dt><code>$WEBDYNE_ERROR_BACKTRACE_SHORT</code></dt>
<dd>
<p>Remove WebDyne internal modules from backtrace. Off by default, set
to 1 to enable.</p>
</dd>
<dt><code>$WEBDYNE_AUTOLOAD_POLLUTE</code></dt>
<dd>
<p>When a method is called from a &lt;perl&gt; routine the WebDyne AUTOLOAD
method must search multiple modules for the method owner. Setting
this flag to 1 will pollute the WebDyne name space with the method
name so that AUTOLOAD is not called if that method is used again
(for the duration of the Perl process, not just that call to the
page). This is dangerous and can cause confusion if different
modules use the same name. In very strictly controlled
environments - and even then only in some cases - it can result is
faster throughput. Off by default, set to 1 to enable.</p>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Configuration items can be overridden by setting of environment
variables of the same name with the desired value.</p>
</div>
<p>Extension modules (e.g., WebDyne::Session) have their own constants -
see each package for details.</p>
<h3 id="environment-variables">Environment Variables<a class="headerlink" href="#environment-variables" title="Permanent link">&para;</a></h3>
<p>All WebDyne configuration items can be overridden by setting an
environment variable of the same same when starting the PSGI version, or
via an Apache SetEnv directive, e.g:</p>
<div class="language-text highlight"><pre><span></span><code>#  Start webdyne plack instance with extended error display for this run.
#
$ WEBDYNE_ERROR_SHOW_EXTENDED=1 plackup `which webdyne.psgi`
</code></pre></div>
<p>In addition to the configuration overrides the following environment
variables are available:</p>
<dl>
<dt>WEBDYNE_CONF</dt>
<dd>
<p>Location of the WebDyne configuration file to load. Loading an
alternate configuration file will bypass loading of any other
configuration files (e.g. /etc/webdyne.conf.pl). They are not
additive - only configuration directives in the nominated by this
environment variable will be processed. e.g.</p>
<div class="language-text highlight"><pre><span></span><code>#  Start webdyne with an alternate config file
#
WEBDYNE_CONF=./myconf.pl webdyne.psgi
</code></pre></div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Your config file must be valid Perl syntax and in the format expected.
Always check it with <code>perl -c -w myconf.pl</code> to ensure it is correct.</p>
</div>
</dd>
<dt>DOCUMENT_ROOT</dt>
<dd>
<p>Plack and Starman instances only - the starting home directory or
file name (if file rather than directory) for the PSGI server to
use. Defaults to the current working directory if none specified.</p>
</dd>
<dt>DOCUMENT_DEFAULT</dt>
<dd>
<p>Plack and Starman instances only - the default files to look for in
a directory if none given via browser URL. Defaults to "app.psp".</p>
</dd>
<dt>WEBDYNE_DEBUG</dt>
<dd>
<p>When debugging enabled in modules only (see Troubleshooting). Set to
1 to enable all debugging (extremely verbose), or set to
module/subroutine name to filter down to that area. e.g.</p>
<div class="language-text highlight"><pre><span></span><code>#  Debug the internal perl routine in WebDyne
#
$ WEBDYNE_DEBUG=perl perl -Ilib bin/wdrender time.psp
[23:28:24.699358 WebDyne (perl)] WebDyne=HASH(0x561d4a271a28) rendering perl tag in block ARRAY(0x561d4aaace20), attr $VAR1 = {
  &#39;inline&#39; =&gt; 1,
  &#39;perl&#39; =&gt; &#39; localtime() &#39;
};

[23:28:24.699490 WebDyne (perl)] found inline perl code $VAR1 = \&#39; localtime() &#39;;
, param $VAR2 = undef;

&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;Untitled Document&lt;/title&gt;&lt;meta charset=&quot;UTF-8&quot;&gt;&lt;meta content=&quot;width=device-width, initial-scale=1.0&quot; name=&quot;viewport&quot;&gt;&lt;link href=&quot;https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.classless.min.css&quot; rel=&quot;stylesheet&quot;&gt;&lt;link href=&quot;/style.css&quot; rel=&quot;stylesheet&quot;&gt;&lt;/head&gt;
&lt;body&gt;&lt;h1&gt;Example File&lt;/h1&gt;&lt;p&gt; The current server time is: Sun Jan 11 23:28:24 2026&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre></div>
</dd>
<dt>WEBDYNE_DEBUG_FILTER</dt>
<dd>
<p>When debugging enabled only output debug information that matches
the regex given by this environment variable. Useful to further
filter down to areas of interest.</p>
</dd>
</dl>
<h2 id="webdyne-directives">WebDyne Directives<a class="headerlink" href="#webdyne-directives" title="Permanent link">&para;</a></h2>
<p>A limited number of directives are are available which change the way
WebDyne processes pages. Directives are set in either the Apache .conf
files and can be set differently per location. At this stage only one
directive applies to the core WebDyne module:</p>
<dl>
<dt><code>WebDyneHandler</code></dt>
<dd>
<p>The name of the handler that WebDyne should invoke instead of
handling the page internally. The only other handler available today
is WebDyne::Chain.</p>
</dd>
</dl>
<p>This directive exists primarily to allow PSGI to invoke WebDyne::Chain
as the primary handler. It can be used in Apache httpd.conf files, but
is not very efficient:</p>
<div class="language-text highlight"><pre><span></span><code>#  This will work, but is not very efficient
#
&lt;location /shop/&gt;
PerlHandler     WebDyne
PerlSetVar      WebDyneHandler               &#39;WebDyne::Chain&#39;
PerlSetVar      WebDyneChain                 &#39;WebDyne::Session&#39;
&lt;/location&gt;


#  This is the same, and is more efficient
#
&lt;location /shop/&gt;
PerlHandler     WebDyne::Chain
PerlSetVar      WebDyneChain                 &#39;WebDyne::Session&#39;
&lt;/location&gt;
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../04_error_handling/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Error Handling">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Error Handling
              </div>
            </div>
          </a>
        
        
          
          <a href="../06_miscellaneous/" class="md-footer__link md-footer__link--next" aria-label="Next: Miscellaneous">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Miscellaneous
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Andrew Speer
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/squidfunk" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.perl.org" target="_blank" rel="noopener" title="Perl" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6m80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hub.docker.com/r/squidfunk/mkdocs-material/" target="_blank" rel="noopener" title="hub.docker.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/mkdocs-material/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://bsky.app/profile/squidfunk.bsky.social" target="_blank" rel="noopener" title="bsky.app" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2 42.1-31.6 110.3-56 110.3 21.8 0 15.5-8.9 130.5-14.1 149.2-18.2 64.8-84.4 81.4-143.3 71.3C456 322 482.2 380 425.6 438c-107.4 110.2-154.3-27.6-166.3-62.9-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8c-12 35.3-59 173.1-166.3 62.9-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1 10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"/></svg>
    </a>
  
    
    
      
    
    
    
      
      
    
    <a href="https://fosstodon.org/@squidfunk" target="_blank" rel="noopener me" title="fosstodon.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.5 102.5 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5m-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://x.com/squidfunk" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["announce.dismiss", "content.code.copy", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate", "navigation.sections", "toc.integrate"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>